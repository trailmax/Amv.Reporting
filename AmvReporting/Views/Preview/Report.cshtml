@model ReportResultPreview
@{
    Layout = null;
}

<style>
    @Model.GlobalCss
    @Model.ReportCss
</style>

<div id="javascriptError"></div>

@Html.Raw(Model.TemplateHtml)
@Html.Raw(Model.ReportHtml)

<script type="text/javascript">
    $(document).ready(function () {
        try {
            @Html.Raw(Model.Data)

            @Html.Raw(Model.GlobalJs)

            @Html.Raw(Model.TemplateJavascript)

            @Html.Raw(Model.ReportJavaScript)
        } catch (e) {
            $('#javascriptError').html('<span class="glyphicon glyphicon-remove-circle"></span> JavaScript Error: ' + e.message).addClass('alert-danger javascriptError');
        }
    });
</script>